# devops-netology  
Home work 06-db-01-basics v2

Домашнее задание к занятию "6.1. Типы и структура СУБД" - Доработка  


Задача 2  
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

Данные записываются на все узлы с задержкой до часа (асинхронная запись)

````
Ход рассуждений: 
CAP: PA
Availability - A non-failing node will return a reasonable response within a 
reasonable amount of time (no error or timeout).
Допускаем, что система состоит из нескольких узлов, каждый из которых может принимать изменения и отвечать - следовательно доступна.

По условию, данные записываются на все узлы асинхронно, т.е. на какой то узел данные могут быть уже записаны, а на какой-то нет,
с значительной задержкой, следовательно, в общем случае, система НЕ консистентна.

Допускаем, система представлена кластером из нескольких узлов, каждый из которых может принимать данные, но не обязуется в тот же момент распространять их на другие сервера. 
Такая система отлично справляется с отказами узлов, 
но, когда они снова начинают работать, возможна выдача пользователям старых данных.  
Следовательно, система устойчива к разделению - P

PACELC: PA-EL
Система устойчива к разделению, как установили выше и допускаем, что узлы остаются доступными - PA
При нормальной работе данные отдаются с небольшой задержкой, но могут быть неактуальными из-за часовой асинхронности - EL

````
При сетевых сбоях, система может разделиться на 2 раздельных кластера 

````
Ход рассуждений:
CAP: AP
При сетевых сбоя получаем доступную, т.к. кластеры раздельные, но не консистентную систему, следовательно A
Система штатно разделяется на 2 кластера, из чего можно сделать вывод, что они могут работать независимо, 
но данные в них не будут синхронизированы. Следовательно P

PACELC: PA-EC
При сетевом разделении получаем доступную, но не консистентную систему, следовательно PA
При нормальной работе данные консистентны, т.к. система едина, следовательно EC

````
Система может не прислать корректный ответ или сбросить соединение 

````
Ход рассуждений:
CAP: CP
Допускаем, что система состоит из нескольких узлов и может не отвечать корректно для сохранения консистентности данных, следовательно С.
Отклика на запрос может не быть при разделении, т.е. допускаем, что узлов несколько и что такая 
ситуация штатно обрабатывается в ущерб доступности, следовательно P
 

PACELC: PC-EL
При сетевом разделении полагаем, что сохраняется консистеность данный в ущерб доступности, т.е. PC
При нормальной работе, логично предположить, что если система состоит из нескольких узлов и требуется время на 
синхронизацию, т.е. L 

````
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

